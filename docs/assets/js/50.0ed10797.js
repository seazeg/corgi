(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{874:function(t,v,_){"use strict";_.r(v);var s=_(76),o=Object(s.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"跨域处理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#跨域处理"}},[t._v("#")]),t._v(" 跨域处理")]),t._v(" "),v("h2",{attrs:{id:"产生原因"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#产生原因"}},[t._v("#")]),t._v(" 产生原因")]),t._v(" "),v("p",[t._v("跨域产生的原因是由于前端地址与后台接口不是同源，从而导致 ajax 不能发送")]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("非同源产生的问题")]),t._v(" "),v("ol",[v("li",[t._v("Cookie、LocalStorage 和 IndexDB 无法获取")]),t._v(" "),v("li",[t._v("DOM 无法获得")]),t._v(" "),v("li",[t._v("AJAX 请求不能发送")])])]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("同源条件")]),t._v(" "),v("p",[v("strong",[t._v("协议")]),t._v("，"),v("strong",[t._v("端口")]),t._v("，"),v("strong",[t._v("主机")]),t._v(" 三者相同即为同源")]),t._v(" "),v("p",[t._v("反之，其中只要 "),v("strong",[t._v("某一个")]),t._v(" 不一样则为不同源")])]),t._v(" "),v("h2",{attrs:{id:"解决方式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#解决方式"}},[t._v("#")]),t._v(" 解决方式")]),t._v(" "),v("p",[v("strong",[t._v("本地开发跨域")])]),t._v(" "),v("p",[t._v("本地开发一般使用下面 3 种方式进行处理")]),t._v(" "),v("ol",[v("li",[t._v("vite 的 proxy 进行代理")]),t._v(" "),v("li",[t._v("后台开启 cors")]),t._v(" "),v("li",[t._v("使用 nginx 转发请求")])]),t._v(" "),v("p",[t._v("项目内部自带第一种方式，具体可以参考"),v("RouterLink",{attrs:{to:"/docs/template-vue/guide/mock.html#配置"}},[t._v("服务端交互-本地开发环境接口地址修改")])],1),t._v(" "),v("p",[v("strong",[t._v("生产环境跨域")])]),t._v(" "),v("p",[t._v("生产环境一般使用下面 2 种方式进行处理")]),t._v(" "),v("ol",[v("li",[t._v("后台开启 cors")]),t._v(" "),v("li",[t._v("使用 nginx 转发请求")])]),t._v(" "),v("p",[v("strong",[t._v("后台开启 cors 不需要前端做任何改动")])]),t._v(" "),v("p",[t._v("nginx 配置文件可以查看"),v("RouterLink",{attrs:{to:"/docs/template-vue/guide/deploy.html#使用-nginx-处理跨域"}},[t._v("nginx 配置")])],1)])}),[],!1,null,null,null);v.default=o.exports}}]);