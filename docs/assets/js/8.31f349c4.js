(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{835:function(e,t,a){"use strict";a.r(t);var s=a(75),r=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[e._v("#")]),e._v(" 介绍")]),e._v(" "),t("p",[e._v("为保证多人协作项目的代码统一，以便项目维护，并提高代码可读性。")]),e._v(" "),t("p",[e._v("在脚手架中加入 "),t("code",[e._v("ESLint、Prettier、husky、lint-staged 、commitlint")]),e._v(" 来规范代码")]),e._v(" "),t("p",[e._v("通过命令行工具"),t("code",[e._v("corgi")]),e._v("作为启动、构建和站点生成工具")]),e._v(" "),t("h2",{attrs:{id:"环境准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[e._v("#")]),e._v(" 环境准备")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("注意")]),e._v(" "),t("p",[e._v("保证依赖兼容性，基础"),t("code",[e._v("node")]),e._v("版本采用 "),t("code",[e._v("16.19.1")]),e._v("，\n通过安装"),t("code",[e._v("nvm")]),e._v("切换 "),t("code",[e._v("node")]),e._v(" 版本来兼容历史项目")]),e._v(" "),t("p",[e._v("包地址："),t("a",{attrs:{href:"https://github.com/coreybutler/nvm-windows/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("nvm 安装包-windows"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("通过"),t("code",[e._v("nvm")]),e._v("安装和切换指定 "),t("code",[e._v("node")]),e._v(" 版本")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("nvm "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("node.Verison"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\nnvm use "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("node.Verison"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),t("p",[e._v("安装"),t("code",[e._v("nrm")]),e._v("源切换工具")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 安装源切换工具")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-g")]),e._v(" nrm\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 修复nrm缺少open问题")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-g")]),e._v(" nrm open@8.4.2 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-save")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 切换至taobaoi源")]),e._v("\nnrm use taobao\n")])])]),t("p",[e._v("安装"),t("code",[e._v("pnpm")]),e._v("包管理工具")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 全局安装pnpm包管理")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-g")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("pnpm")]),e._v("\n")])])]),t("p",[e._v("安装"),t("code",[e._v("corgi")]),e._v("集中管理工具")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 全局安装pnpm包管理")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-g")]),e._v(" corgi-biu\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 升级方式")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" update "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-g")]),e._v(" corgi-biu\n")])])]),t("h2",{attrs:{id:"工具配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工具配置"}},[e._v("#")]),e._v(" 工具配置")]),e._v(" "),t("p",[e._v("使用的 IDE 是"),t("a",{attrs:{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("vscode"),t("OutboundLink")],1),e._v("，以下插件根据实际情况安装")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=antfu.iconify",target:"_blank",rel:"noopener noreferrer"}},[e._v("Iconify IntelliSense"),t("OutboundLink")],1),e._v(" - Iconify 图标插件")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=voorjaar.windicss-intellisense",target:"_blank",rel:"noopener noreferrer"}},[e._v("windicss IntelliSense"),t("OutboundLink")],1),e._v(" - windicss 提示插件")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=Lokalise.i18n-ally",target:"_blank",rel:"noopener noreferrer"}},[e._v("I18n-ally"),t("OutboundLink")],1),e._v(" - i18n 插件")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=octref.vetur",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vetur"),t("OutboundLink")],1),e._v(" - vue 开发必备 （也可以选择 Volar）")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint",target:"_blank",rel:"noopener noreferrer"}},[e._v("ESLint"),t("OutboundLink")],1),e._v(" - 脚本代码检查")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode",target:"_blank",rel:"noopener noreferrer"}},[e._v("Prettier"),t("OutboundLink")],1),e._v(" - 代码格式化")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=stylelint.vscode-stylelint",target:"_blank",rel:"noopener noreferrer"}},[e._v("Stylelint"),t("OutboundLink")],1),e._v(" - css 格式化")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=mikestead.dotenv",target:"_blank",rel:"noopener noreferrer"}},[e._v("DotENV"),t("OutboundLink")],1),e._v(" - .env 文件 高亮")])]),e._v(" "),t("h2",{attrs:{id:"开发流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发流程"}},[e._v("#")]),e._v(" 开发流程")]),e._v(" "),t("img",{attrs:{src:e.$withBase("/lc.jpeg"),alt:"mixureSecure"}}),e._v(" "),t("ul",[t("li",[t("code",[e._v("git clone")]),e._v("项目到本地或利用"),t("code",[e._v("corgi")]),e._v("初始化环境")]),e._v(" "),t("li",[e._v("由本项目静态页开发负责人，从"),t("code",[e._v("dev")]),e._v("分支新建一个中心分支（命名规则：项目名"),t("em",[e._v("core")]),e._v("日期），并将当前项目的所用公用资源以及页面全部部署完成（"),t("code",[e._v("初始新项目要求，否则直接进入下一步")]),e._v("）")]),e._v(" "),t("li",[e._v("项目组其他成员从核心分支新建各自分支，随后自行开发")]),e._v(" "),t("li",[e._v("如果核心分支有公共资源调整，及时告知组员，用各自分支对中心分支进行"),t("code",[e._v("merge")]),e._v("合并")]),e._v(" "),t("li",[e._v("各自分支"),t("code",[e._v("merge")]),e._v("到"),t("code",[e._v("test")]),e._v("分支，进行测试环境上的测试")]),e._v(" "),t("li",[e._v("上线前，所有人的分支全部"),t("code",[e._v("merge")]),e._v("到核心分支，然后统一由静态页开发负责人提交核心分支"),t("code",[e._v("merge")]),e._v("到"),t("code",[e._v("dev")]),e._v("的合并请求到项目经理，然后由项目经理合并到"),t("code",[e._v("master")]),e._v("分支")])]),e._v(" "),t("h3",{attrs:{id:"本地启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地启动"}},[e._v("#")]),e._v(" 本地启动")]),e._v(" "),t("p",[e._v("通过 "),t("code",[e._v("corgi")]),e._v(" 启动 http 静态资源服务")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 基本格式")]),e._v("\ncorgi start "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("siteName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 例子")]),e._v("\ncorgi start example\n")])])]),t("h3",{attrs:{id:"构建打包方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建打包方式"}},[e._v("#")]),e._v(" 构建打包方式")]),e._v(" "),t("p",[e._v("打包成功后会在相应项目中生成 build 目录")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 测试打包")]),e._v("\ncorgi build "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("siteName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--env")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 生产打包")]),e._v("\ncorgi build "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("siteName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--env")]),e._v(" prod\n")])])]),t("h3",{attrs:{id:"自动化部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动化部署"}},[e._v("#")]),e._v(" 自动化部署")]),e._v(" "),t("p",[e._v("在"),t("code",[e._v("jenkins")]),e._v("脚本处直接调用")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 测试")]),e._v("\ncorgi push "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--env")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 生产")]),e._v("\ncorgi push "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--env")]),e._v(" prod\n")])])]),t("h2",{attrs:{id:"使用规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用规范"}},[e._v("#")]),e._v(" 使用规范")]),e._v(" "),t("h3",{attrs:{id:"分支管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分支管理"}},[e._v("#")]),e._v(" 分支管理")]),e._v(" "),t("p",[e._v("从 "),t("code",[e._v("dev")]),e._v(" 分支切出新分支，命名方式如下")]),e._v(" "),t("div",{staticClass:"language-txt extra-class"},[t("pre",{pre:!0,attrs:{class:"language-txt"}},[t("code",[e._v("# 开发人员姓名_任务模块名_当前日期\n# jinyuxi_productlist_20230101\n")])])]),t("h3",{attrs:{id:"提交规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提交规则"}},[e._v("#")]),e._v(" 提交规则")]),e._v(" "),t("p",[e._v("为提高项目维护质量，需按要求提交 "),t("code",[e._v("commit")]),e._v(" 信息")]),e._v(" "),t("p",[e._v("可用的"),t("code",[e._v("type-name")]),e._v("列表")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("feat")]),e._v(" 增加新功能")]),e._v(" "),t("li",[t("code",[e._v("fix")]),e._v(" 修复问题/BUG")]),e._v(" "),t("li",[t("code",[e._v("style")]),e._v(" 代码风格相关无影响运行结果的")]),e._v(" "),t("li",[t("code",[e._v("perf")]),e._v(" 优化/性能提升")]),e._v(" "),t("li",[t("code",[e._v("refactor")]),e._v(" 重构")]),e._v(" "),t("li",[t("code",[e._v("revert")]),e._v(" 撤销修改")]),e._v(" "),t("li",[t("code",[e._v("docs")]),e._v(" 文档/注释")]),e._v(" "),t("li",[t("code",[e._v("chore")]),e._v(" 依赖更新/脚手架配置修改等")]),e._v(" "),t("li",[t("code",[e._v("wip")]),e._v(" 开发中")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 基本格式")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" commit "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"<type-name>: <subject-name>"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 例子")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" commit "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"feat: 新增产品列表页相关模块"')]),e._v("\n\n")])])]),t("h3",{attrs:{id:"h5-命名规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#h5-命名规范"}},[e._v("#")]),e._v(" H5 命名规范")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("页面模块名即目录名，语义化命名 "),t("code",[e._v("例：产品列表 product_list")]),e._v("，当前页面模块中只能存在 js、less、shtml 文件以及 resource 目录")])]),e._v(" "),t("li",[t("p",[e._v("Js、less 和 shtml，都以页面模块名为命名 "),t("code",[e._v("例：产品列表 product_list.less")])])]),e._v(" "),t("li",[t("p",[e._v("resource 中存放当前页面模块所引用的资源，其中包括各类型图片(jpg、png、gif、svg)，媒体文件(mp4、mov、m3u8)")])]),e._v(" "),t("li",[t("p",[e._v("public 目录中只能存放公用资源，包括公用 js、公用 less、公用头尾和头尾资源的 shtml 以及 resource 中的公用图片以及媒体文件\nd")])]),e._v(" "),t("li",[t("p",[e._v("待补充")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);