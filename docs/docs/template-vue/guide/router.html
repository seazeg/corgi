<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>路由 | Corgi Integration</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="icon" href="/corgi-instructions/corgi.svg">
    <meta name="description" content="集中化工具文档库">
    <link rel="preload" href="/corgi-instructions/assets/css/0.styles.7b3f7bb9.css" as="style"><link rel="preload" href="/corgi-instructions/assets/js/app.69dcb9da.js" as="script"><link rel="preload" href="/corgi-instructions/assets/js/2.80bfd4e5.js" as="script"><link rel="preload" href="/corgi-instructions/assets/js/61.b43881ef.js" as="script"><link rel="prefetch" href="/corgi-instructions/assets/js/10.b68af423.js"><link rel="prefetch" href="/corgi-instructions/assets/js/11.9603bb95.js"><link rel="prefetch" href="/corgi-instructions/assets/js/12.a06f2522.js"><link rel="prefetch" href="/corgi-instructions/assets/js/13.9a62958a.js"><link rel="prefetch" href="/corgi-instructions/assets/js/14.773e6242.js"><link rel="prefetch" href="/corgi-instructions/assets/js/15.9e9b9866.js"><link rel="prefetch" href="/corgi-instructions/assets/js/16.2d690325.js"><link rel="prefetch" href="/corgi-instructions/assets/js/17.a0e07ad3.js"><link rel="prefetch" href="/corgi-instructions/assets/js/18.a9030e17.js"><link rel="prefetch" href="/corgi-instructions/assets/js/19.b095a815.js"><link rel="prefetch" href="/corgi-instructions/assets/js/20.2607328a.js"><link rel="prefetch" href="/corgi-instructions/assets/js/21.a6154b3b.js"><link rel="prefetch" href="/corgi-instructions/assets/js/22.9a368785.js"><link rel="prefetch" href="/corgi-instructions/assets/js/23.ffe7b75f.js"><link rel="prefetch" href="/corgi-instructions/assets/js/24.73939f1d.js"><link rel="prefetch" href="/corgi-instructions/assets/js/25.8b6db5fc.js"><link rel="prefetch" href="/corgi-instructions/assets/js/26.3a977146.js"><link rel="prefetch" href="/corgi-instructions/assets/js/27.6e9fe02c.js"><link rel="prefetch" href="/corgi-instructions/assets/js/28.c640d5c0.js"><link rel="prefetch" href="/corgi-instructions/assets/js/29.4e51d2e5.js"><link rel="prefetch" href="/corgi-instructions/assets/js/3.bfb00f95.js"><link rel="prefetch" href="/corgi-instructions/assets/js/30.793c78fb.js"><link rel="prefetch" href="/corgi-instructions/assets/js/31.db2ea5b3.js"><link rel="prefetch" href="/corgi-instructions/assets/js/32.26d6e3c7.js"><link rel="prefetch" href="/corgi-instructions/assets/js/33.af678b2a.js"><link rel="prefetch" href="/corgi-instructions/assets/js/34.06253de0.js"><link rel="prefetch" href="/corgi-instructions/assets/js/35.35d3b311.js"><link rel="prefetch" href="/corgi-instructions/assets/js/36.3e88b7d2.js"><link rel="prefetch" href="/corgi-instructions/assets/js/37.27d65022.js"><link rel="prefetch" href="/corgi-instructions/assets/js/38.14c8b302.js"><link rel="prefetch" href="/corgi-instructions/assets/js/39.6ff15752.js"><link rel="prefetch" href="/corgi-instructions/assets/js/4.ae7becbd.js"><link rel="prefetch" href="/corgi-instructions/assets/js/40.9f179cef.js"><link rel="prefetch" href="/corgi-instructions/assets/js/41.eff6a6be.js"><link rel="prefetch" href="/corgi-instructions/assets/js/42.edd46ba6.js"><link rel="prefetch" href="/corgi-instructions/assets/js/43.81badca6.js"><link rel="prefetch" href="/corgi-instructions/assets/js/44.7a7d9a3a.js"><link rel="prefetch" href="/corgi-instructions/assets/js/45.61abbdf2.js"><link rel="prefetch" href="/corgi-instructions/assets/js/46.d9604969.js"><link rel="prefetch" href="/corgi-instructions/assets/js/47.7077af3d.js"><link rel="prefetch" href="/corgi-instructions/assets/js/48.4f8db09c.js"><link rel="prefetch" href="/corgi-instructions/assets/js/49.8b94de70.js"><link rel="prefetch" href="/corgi-instructions/assets/js/5.342535c8.js"><link rel="prefetch" href="/corgi-instructions/assets/js/50.e5b9b6db.js"><link rel="prefetch" href="/corgi-instructions/assets/js/51.4acb508b.js"><link rel="prefetch" href="/corgi-instructions/assets/js/52.1e88dac4.js"><link rel="prefetch" href="/corgi-instructions/assets/js/53.c646d8ed.js"><link rel="prefetch" href="/corgi-instructions/assets/js/54.7420957d.js"><link rel="prefetch" href="/corgi-instructions/assets/js/55.c74fbcfb.js"><link rel="prefetch" href="/corgi-instructions/assets/js/56.b6d4cb01.js"><link rel="prefetch" href="/corgi-instructions/assets/js/57.5c85eb28.js"><link rel="prefetch" href="/corgi-instructions/assets/js/58.a8d6ebfb.js"><link rel="prefetch" href="/corgi-instructions/assets/js/59.8b97857c.js"><link rel="prefetch" href="/corgi-instructions/assets/js/6.52d941a3.js"><link rel="prefetch" href="/corgi-instructions/assets/js/60.e3ec1d87.js"><link rel="prefetch" href="/corgi-instructions/assets/js/62.fc5a3a28.js"><link rel="prefetch" href="/corgi-instructions/assets/js/63.ecb491a6.js"><link rel="prefetch" href="/corgi-instructions/assets/js/64.9f4035ec.js"><link rel="prefetch" href="/corgi-instructions/assets/js/65.d68301d0.js"><link rel="prefetch" href="/corgi-instructions/assets/js/66.ab2ede42.js"><link rel="prefetch" href="/corgi-instructions/assets/js/7.5302abd8.js"><link rel="prefetch" href="/corgi-instructions/assets/js/8.4b39bc4c.js"><link rel="prefetch" href="/corgi-instructions/assets/js/9.50d68099.js">
    <link rel="stylesheet" href="/corgi-instructions/assets/css/0.styles.7b3f7bb9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="ant-row"><div class="nav-button"><i aria-label="icon: bars" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i> <span></span></div> <div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-6 ant-col-xl-5 ant-col-xxl-4"><a href="/corgi-instructions/" class="router-link-active home-link"><img src="/corgi-instructions/corgi.svg" alt="Corgi Integration" class="logo"> <span class="site-name">Corgi Integration</span></a> <div class="search-box mobile-search"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="nav-space-between ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-18 ant-col-xl-19 ant-col-xxl-20"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><ul role="menu" id="nav" class="ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/corgi-instructions/" class="router-link-active">
          主页
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/corgi-instructions/guide/introduction.html">
          使用说明
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/corgi-instructions/docs/specification.html">
          开发说明
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/corgi-instructions/docs/corgi-core.html">
          Corgi
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/corgi-instructions/docs/template-h5.html">
          H5脚手架
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/corgi-instructions/docs/template-vue/guide/introduction.html">
          Vue脚手架
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <ul class="extra-group"><!----> <!----></ul></nav></div></div> <!----></header> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/corgi-instructions/docs/specification.html" title="开发说明" class="sidebar-link">开发说明</a></li><li><a href="/corgi-instructions/docs/corgi-core.html" title="Corgi" class="sidebar-link">Corgi</a></li><li><a href="/corgi-instructions/docs/template-h5.html" title="H5脚手架" class="sidebar-link">H5脚手架</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue脚手架</span> <span class="arrow down"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>指南</span> <span class="arrow down"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/corgi-instructions/docs/template-vue/guide/" aria-current="page" title="开始" class="sidebar-link">开始</a></li><li><a href="/corgi-instructions/docs/template-vue/guide/settings.html" title="项目配置" class="sidebar-link">项目配置</a></li><li><a href="/corgi-instructions/docs/template-vue/guide/router.html" aria-current="page" title="路由" class="active sidebar-link">路由</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#配置" title="配置" class="sidebar-link">配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#模块说明" title="模块说明" class="sidebar-link">模块说明</a></li><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#多级路由" title="多级路由" class="sidebar-link">多级路由</a></li><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#meta-配置说明" title="Meta 配置说明" class="sidebar-link">Meta 配置说明</a></li><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#外部页面嵌套" title="外部页面嵌套" class="sidebar-link">外部页面嵌套</a></li><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#外链" title="外链" class="sidebar-link">外链</a></li><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#动态路由-tab-自动关闭功能" title="动态路由 Tab 自动关闭功能" class="sidebar-link">动态路由 Tab 自动关闭功能</a></li></ul></li><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#新增路由" title="新增路由" class="sidebar-link">新增路由</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#如何新增一个路由模块" title="如何新增一个路由模块" class="sidebar-link">如何新增一个路由模块</a></li><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#验证" title="验证" class="sidebar-link">验证</a></li></ul></li><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#路由刷新" title="路由刷新" class="sidebar-link">路由刷新</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#实现" title="实现" class="sidebar-link">实现</a></li><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#redirect" title="Redirect" class="sidebar-link">Redirect</a></li></ul></li><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#页面跳转" title="页面跳转" class="sidebar-link">页面跳转</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#方式" title="方式" class="sidebar-link">方式</a></li></ul></li><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#多标签页" title="多标签页" class="sidebar-link">多标签页</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#如何开启页面缓存" title="如何开启页面缓存" class="sidebar-link">如何开启页面缓存</a></li><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#如何让某个页面不缓存" title="如何让某个页面不缓存" class="sidebar-link">如何让某个页面不缓存</a></li></ul></li><li class="sidebar-sub-header"><a href="/corgi-instructions/docs/template-vue/guide/router.html#如何更改首页路由" title="如何更改首页路由" class="sidebar-link">如何更改首页路由</a></li></ul></li><li><a href="/corgi-instructions/docs/template-vue/guide/menu.html" title="菜单" class="sidebar-link">菜单</a></li><li><a href="/corgi-instructions/docs/template-vue/guide/auth.html" title="权限" class="sidebar-link">权限</a></li><li><a href="/corgi-instructions/docs/template-vue/guide/mock.html" title="Mock&amp;联调" class="sidebar-link">Mock&amp;联调</a></li><li><a href="/corgi-instructions/docs/template-vue/guide/component.html" title="组件注册" class="sidebar-link">组件注册</a></li><li><a href="/corgi-instructions/docs/template-vue/guide/design.html" title="样式" class="sidebar-link">样式</a></li><li><a href="/corgi-instructions/docs/template-vue/guide/deploy.html" title="构建&amp;部署" class="sidebar-link">构建&amp;部署</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>深入</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>常用组件</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page has-page-anchor"> <div class="theme-antdocs-content content__default"><h1 id="路由"><a href="#路由" class="header-anchor">#</a> 路由</h1> <p>项目路由配置存放于 src/router/routes 下面。 src/router/routes/modules 用于存放路由模块，在该目录下的文件会自动注册。</p> <h2 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h2> <h3 id="模块说明"><a href="#模块说明" class="header-anchor">#</a> 模块说明</h3> <p>在 src/router/routes/modules 内的 <code>.ts</code> 文件会被视为一个路由模块。</p> <p>一个路由模块包含以下结构</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> AppRouteModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;/@/router/types&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">LAYOUT</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;/@/router/constant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> t <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;/@/hooks/web/useI18n&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> dashboard<span class="token operator">:</span> AppRouteModule <span class="token operator">=</span> <span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">&quot;/dashboard&quot;</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Dashboard&quot;</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> <span class="token constant">LAYOUT</span><span class="token punctuation">,</span>
  redirect<span class="token operator">:</span> <span class="token string">&quot;/dashboard/analysis&quot;</span><span class="token punctuation">,</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span>
    icon<span class="token operator">:</span> <span class="token string">&quot;ion:grid-outline&quot;</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;routes.dashboard.dashboard&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  children<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&quot;analysis&quot;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&quot;Analysis&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;/@/views/dashboard/analysis/index.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      meta<span class="token operator">:</span> <span class="token punctuation">{</span>
        affix<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        title<span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;routes.dashboard.analysis&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&quot;workbench&quot;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&quot;Workbench&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;/@/views/dashboard/workbench/index.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      meta<span class="token operator">:</span> <span class="token punctuation">{</span>
        title<span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;routes.dashboard.workbench&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> dashboard<span class="token punctuation">;</span>
</code></pre></div><h3 id="多级路由"><a href="#多级路由" class="header-anchor">#</a> 多级路由</h3> <div class="custom-block warning"><p class="custom-block-title">注意事项</p> <ul><li>整个项目所有路由 <code>name</code> 不能重复</li> <li>所有的多级路由最终都会转成二级路由，所以不能内嵌子路由</li> <li>除了 layout 对应的 path 前面需要加 <code>/</code>，其余子路由都不要以<code>/</code>开头</li></ul></div> <p><strong>示例</strong></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> AppRouteModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'/@/router/types'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getParentLayout<span class="token punctuation">,</span> <span class="token constant">LAYOUT</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'/@/router/constant'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> t <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'/@/hooks/web/useI18n'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> permission<span class="token operator">:</span> AppRouteModule <span class="token operator">=</span> <span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">'/level'</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'Level'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> <span class="token constant">LAYOUT</span><span class="token punctuation">,</span>
  redirect<span class="token operator">:</span> <span class="token string">'/level/menu1/menu1-1/menu1-1-1'</span><span class="token punctuation">,</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span>
    icon<span class="token operator">:</span> <span class="token string">'ion:menu-outline'</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'routes.demo.level.level'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  children<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'tabs/:id'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'TabsParams'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> <span class="token function">getParentLayout</span><span class="token punctuation">(</span><span class="token string">'TabsParams'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      meta<span class="token operator">:</span> <span class="token punctuation">{</span>
        carryParam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        hidePathForChildren<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 本级path将会在子级菜单中合成完整path时会忽略这一层级</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      children<span class="token operator">:</span> <span class="token punctuation">[</span>
        path<span class="token operator">:</span> <span class="token string">'tabs/id1'</span><span class="token punctuation">,</span> <span class="token comment">// 其上级有标记hidePathForChildren，所以本级在生成菜单时最终的path为  /level/tabs/id1</span>
        name<span class="token operator">:</span> <span class="token string">'TabsParams'</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> <span class="token function">getParentLayout</span><span class="token punctuation">(</span><span class="token string">'TabsParams'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        meta<span class="token operator">:</span> <span class="token punctuation">{</span>
          carryParam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          ignoreRoute<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// 本路由仅用于菜单生成，不会在实际的路由表中出现</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'menu1'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'Menu1Demo'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> <span class="token function">getParentLayout</span><span class="token punctuation">(</span><span class="token string">'Menu1Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      meta<span class="token operator">:</span> <span class="token punctuation">{</span>
        title<span class="token operator">:</span> <span class="token string">'Menu1'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      redirect<span class="token operator">:</span> <span class="token string">'/level/menu1/menu1-1/menu1-1-1'</span><span class="token punctuation">,</span>
      children<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          path<span class="token operator">:</span> <span class="token string">'menu1-1'</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'Menu11Demo'</span><span class="token punctuation">,</span>
          component<span class="token operator">:</span> <span class="token function">getParentLayout</span><span class="token punctuation">(</span><span class="token string">'Menu11Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          meta<span class="token operator">:</span> <span class="token punctuation">{</span>
            title<span class="token operator">:</span> <span class="token string">'Menu1-1'</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          redirect<span class="token operator">:</span> <span class="token string">'/level/menu1/menu1-1/menu1-1-1'</span><span class="token punctuation">,</span>
          children<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              path<span class="token operator">:</span> <span class="token string">'menu1-1-1'</span><span class="token punctuation">,</span>
              name<span class="token operator">:</span> <span class="token string">'Menu111Demo'</span><span class="token punctuation">,</span>
              <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'/@/views/demo/level/Menu111.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              meta<span class="token operator">:</span> <span class="token punctuation">{</span>
                title<span class="token operator">:</span> <span class="token string">'Menu111'</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> permission<span class="token punctuation">;</span>
</code></pre></div><h3 id="meta-配置说明"><a href="#meta-配置说明" class="header-anchor">#</a> Meta 配置说明</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">RouteMeta</span> <span class="token punctuation">{</span>
  <span class="token comment">// 路由title  一般必填</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token comment">// 动态路由可打开Tab页数</span>
  dynamicLevel<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token comment">// 动态路由的实际Path, 即去除路由的动态部分;</span>
  realPath<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token comment">// 是否忽略权限，只在权限模式为Role的时候有效</span>
  ignoreAuth<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">// 可以访问的角色，只在权限模式为Role的时候有效</span>
  roles<span class="token operator">?</span><span class="token operator">:</span> RoleEnum<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// 是否忽略KeepAlive缓存</span>
  ignoreKeepAlive<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">// 是否固定标签</span>
  affix<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">// 图标，也是菜单图标</span>
  icon<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token comment">// 内嵌iframe的地址</span>
  frameSrc<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token comment">// 指定该路由切换的动画名</span>
  transitionName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token comment">// 隐藏该路由在面包屑上面的显示</span>
  hideBreadcrumb<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">// 如果该路由会携带参数，且需要在tab页上面显示。则需要设置为true</span>
  carryParam<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">// 隐藏所有子菜单</span>
  hideChildrenInMenu<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">// 当前激活的菜单。用于配置详情页时左侧激活的菜单路径</span>
  currentActiveMenu<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token comment">// 当前路由不再标签页显示</span>
  hideTab<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">// 当前路由不再菜单显示</span>
  hideMenu<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">// 菜单排序，只对第一级有效</span>
  orderNo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token comment">// 忽略路由。用于在ROUTE_MAPPING以及BACK权限模式下，生成对应的菜单而忽略路由。2.5.3以上版本有效</span>
  ignoreRoute<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">// 是否在子级菜单的完整path中忽略本级path。2.5.3以上版本有效</span>
  hidePathForChildren<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="外部页面嵌套"><a href="#外部页面嵌套" class="header-anchor">#</a> 外部页面嵌套</h3> <p>只需要将 <code>frameSrc</code> 设置为需要跳转的地址即可</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> <span class="token function-variable function">IFrame</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'/@/views/sys/iframe/FrameBlank.vue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">'doc'</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'Doc'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> IFrame<span class="token punctuation">,</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span>
    frameSrc<span class="token operator">:</span> <span class="token string">'http://seazeg.gitee.io/hopeui/'</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'routes.demo.iframe.doc'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="外链"><a href="#外链" class="header-anchor">#</a> 外链</h3> <p>只需要将 <code>path</code> 设置为需要跳转的<strong>HTTP 地址</strong>即可</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">'https://vvbin.cn/doc-next/'</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'DocExternal'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> IFrame<span class="token punctuation">,</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'routes.demo.iframe.docExternal'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="动态路由-tab-自动关闭功能"><a href="#动态路由-tab-自动关闭功能" class="header-anchor">#</a> 动态路由 Tab 自动关闭功能</h3> <p>若需要开启该功能，需要在动态路由的<code>meta</code>中设置如下两个参数：</p> <ul><li><code>dynamicLevel</code> 最大能打开的 Tab 标签页数</li> <li><code>realPath</code> 动态路由实际路径(考虑到动态路由有时候可能存在 N 层的情况, 例：<code>/:id/:subId/:...</code>), 为了减少计算开销, 使用配置方式事先规定好路由的实际路径(注意: 该参数若不设置，将无法使用该功能)</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">'detail/:id'</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'TabDetail'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'/@/views/demo/feat/tabs/TabDetail.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span>
    currentActiveMenu<span class="token operator">:</span> <span class="token string">'/feat/tabs'</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">'routes.demo.feat.tabDetail'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    hideMenu<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    dynamicLevel<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    realPath<span class="token operator">:</span> <span class="token string">'/feat/tabs/detail'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="新增路由"><a href="#新增路由" class="header-anchor">#</a> 新增路由</h2> <h3 id="如何新增一个路由模块"><a href="#如何新增一个路由模块" class="header-anchor">#</a> 如何新增一个路由模块</h3> <ol><li>在 src/router/routes/modules 内新增一个模块文件。</li></ol> <p>示例，新增 test.ts 文件</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> AppRouteModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;/@/router/types&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">LAYOUT</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;/@/router/constant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> t <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;/@/hooks/web/useI18n&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> dashboard<span class="token operator">:</span> AppRouteModule <span class="token operator">=</span> <span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">&quot;/about&quot;</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">&quot;About&quot;</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> <span class="token constant">LAYOUT</span><span class="token punctuation">,</span>
  redirect<span class="token operator">:</span> <span class="token string">&quot;/about/index&quot;</span><span class="token punctuation">,</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span>
    icon<span class="token operator">:</span> <span class="token string">&quot;simple-icons:about-dot-me&quot;</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;routes.dashboard.about&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  children<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&quot;AboutPage&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;/@/views/sys/about/index.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      meta<span class="token operator">:</span> <span class="token punctuation">{</span>
        title<span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;routes.dashboard.about&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        icon<span class="token operator">:</span> <span class="token string">&quot;simple-icons:about-dot-me&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> dashboard<span class="token punctuation">;</span>
</code></pre></div><p>此时路由已添加完成，不需要手动引入，放在 src/router/routes/modules 内的文件会自动被加载。</p> <h3 id="验证"><a href="#验证" class="header-anchor">#</a> 验证</h3> <p>访问 <strong>ip:端口/about/index</strong> 出现对应组件内容即代表成功</p> <h2 id="路由刷新"><a href="#路由刷新" class="header-anchor">#</a> 路由刷新</h2> <p>项目中采用的是<strong>重定向</strong>方式</p> <h3 id="实现"><a href="#实现" class="header-anchor">#</a> 实现</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRedo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;/@/hooks/web/usePage&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> redo <span class="token operator">=</span> <span class="token function">useRedo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 执行刷新</span>
    <span class="token function">redo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="redirect"><a href="#redirect" class="header-anchor">#</a> Redirect</h3> <p>src/views/sys/redirect/index.vue</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> unref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Redirect&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> currentRoute<span class="token punctuation">,</span> replace <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> params<span class="token punctuation">,</span> query <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">unref</span><span class="token punctuation">(</span>currentRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> path <span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>
    <span class="token keyword">const</span> _path <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token operator">?</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span> <span class="token operator">:</span> path<span class="token punctuation">;</span>
    <span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> _path<span class="token punctuation">,</span>
      query<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="页面跳转"><a href="#页面跳转" class="header-anchor">#</a> 页面跳转</h2> <p>页面跳转建议采用项目提供的 <code>useGo</code></p> <h3 id="方式"><a href="#方式" class="header-anchor">#</a> 方式</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useGo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;/@/hooks/web/usePage&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> go <span class="token operator">=</span> <span class="token function">useGo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 执行刷新</span>
    <span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">go</span><span class="token punctuation">(</span>PageEnum<span class="token punctuation">.</span>Home<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="多标签页"><a href="#多标签页" class="header-anchor">#</a> 多标签页</h2> <p>标签页使用的是 <code>keep-alive</code> 和 <code>router-view</code> 实现，实现切换 tab 后还能保存切换之前的状态。</p> <h3 id="如何开启页面缓存"><a href="#如何开启页面缓存" class="header-anchor">#</a> 如何开启页面缓存</h3> <p>开启缓存有 3 个条件</p> <ol><li>在 src/settings/projectSetting.ts 内将<code>openKeepAlive</code> 设置为 <code>true</code></li> <li>路由设置 <code>name</code>，且<strong>不能重复</strong></li> <li>路由对应的组件加上 <code>name</code>，与路由设置的 <code>name</code> 保持一致</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code> <span class="token punctuation">{</span>
   <span class="token operator">...</span><span class="token punctuation">,</span>
    <span class="token comment">// name</span>
    name<span class="token operator">:</span> <span class="token string">'Login'</span><span class="token punctuation">,</span>
    <span class="token comment">// 对应组件组件的name</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'/@/views/sys/login/index.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// /@/views/sys/login/index.vue</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 需要和路由的name一致</span>
    name<span class="token operator">:</span><span class="token string">&quot;Login&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>keep-alive 生效的前提是：需要将路由的 <code>name</code> 属性及对应的页面的 <code>name</code> 设置成一样。因为：</p> <p><strong>include - 字符串或正则表达式，只有名称匹配的组件会被缓存</strong></p></div> <h3 id="如何让某个页面不缓存"><a href="#如何让某个页面不缓存" class="header-anchor">#</a> 如何让某个页面不缓存</h3> <p><strong>可在 router.meta 下配置</strong></p> <p>可以将 <code>ignoreKeepAlive</code> 配置成 <code>true</code> 即可关闭缓存。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">RouteMeta</span> <span class="token punctuation">{</span>
  <span class="token comment">// 是否忽略KeepAlive缓存</span>
  ignoreKeepAlive<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="如何更改首页路由"><a href="#如何更改首页路由" class="header-anchor">#</a> 如何更改首页路由</h2> <p>首页路由指的是应用程序中的默认路由，当不输入其他任何路由时，会自动重定向到该路由下，并且该路由在 Tab 上是固定的，即使设置<code>affix: false</code>也不允许关闭</p> <p>例：首页路由配置的是<code>/dashboard/analysis</code>，那么当直接访问 <code>http://localhost:3100/</code> 会自动跳转到<code>http://localhost:3100/#/dashboard/analysis</code> 上(用户已登录的情况下)</p> <p>可以将<code>pageEnum.ts</code>中的<code>BASE_HOME</code>更改为需要你想设置的首页即可</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">enum</span> PageEnum <span class="token punctuation">{</span>
  <span class="token comment">// basic home path</span>
  <span class="token comment">// 更改此处即可</span>
  <span class="token constant">BASE_HOME</span> <span class="token operator">=</span> <span class="token string">&quot;/dashboard&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">2023-02-24 10:28:18</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/corgi-instructions/docs/template-vue/guide/settings.html" class="prev"><i aria-label="icon: left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></i>
        项目配置
      </a></span> <span class="next"><a href="/corgi-instructions/docs/template-vue/guide/menu.html">
        菜单
        <i aria-label="icon: right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i></a></span></p></div> <div class="page-anchor"><div class="ant-space ant-space-vertical" style="width:100%;"><div class="ant-space-item"><div class="page-anchor-offset"><div><div class="ant-anchor-wrapper" style="max-height:100vh;"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a href="#配置" title="配置" class="ant-anchor-link-title">配置</a><div class="ant-anchor-link"><a href="#模块说明" title="模块说明" class="ant-anchor-link-title">模块说明</a></div><div class="ant-anchor-link"><a href="#多级路由" title="多级路由" class="ant-anchor-link-title">多级路由</a></div><div class="ant-anchor-link"><a href="#meta-配置说明" title="Meta 配置说明" class="ant-anchor-link-title">Meta 配置说明</a></div><div class="ant-anchor-link"><a href="#外部页面嵌套" title="外部页面嵌套" class="ant-anchor-link-title">外部页面嵌套</a></div><div class="ant-anchor-link"><a href="#外链" title="外链" class="ant-anchor-link-title">外链</a></div><div class="ant-anchor-link"><a href="#动态路由-tab-自动关闭功能" title="动态路由 Tab 自动关闭功能" class="ant-anchor-link-title">动态路由 Tab 自动关闭功能</a></div></div><div class="ant-anchor-link"><a href="#新增路由" title="新增路由" class="ant-anchor-link-title">新增路由</a><div class="ant-anchor-link"><a href="#如何新增一个路由模块" title="如何新增一个路由模块" class="ant-anchor-link-title">如何新增一个路由模块</a></div><div class="ant-anchor-link"><a href="#验证" title="验证" class="ant-anchor-link-title">验证</a></div></div><div class="ant-anchor-link"><a href="#路由刷新" title="路由刷新" class="ant-anchor-link-title">路由刷新</a><div class="ant-anchor-link"><a href="#实现" title="实现" class="ant-anchor-link-title">实现</a></div><div class="ant-anchor-link"><a href="#redirect" title="Redirect" class="ant-anchor-link-title">Redirect</a></div></div><div class="ant-anchor-link"><a href="#页面跳转" title="页面跳转" class="ant-anchor-link-title">页面跳转</a><div class="ant-anchor-link"><a href="#方式" title="方式" class="ant-anchor-link-title">方式</a></div></div><div class="ant-anchor-link"><a href="#多标签页" title="多标签页" class="ant-anchor-link-title">多标签页</a><div class="ant-anchor-link"><a href="#如何开启页面缓存" title="如何开启页面缓存" class="ant-anchor-link-title">如何开启页面缓存</a></div><div class="ant-anchor-link"><a href="#如何让某个页面不缓存" title="如何让某个页面不缓存" class="ant-anchor-link-title">如何让某个页面不缓存</a></div></div><div class="ant-anchor-link"><a href="#如何更改首页路由" title="如何更改首页路由" class="ant-anchor-link-title">如何更改首页路由</a></div></div></div></div></div></div></div></div> </main> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/corgi-instructions/assets/js/app.69dcb9da.js" defer></script><script src="/corgi-instructions/assets/js/2.80bfd4e5.js" defer></script><script src="/corgi-instructions/assets/js/61.b43881ef.js" defer></script>
  </body>
</html>